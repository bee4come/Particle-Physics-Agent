# FeynmanCraft ADK

**æ™ºèƒ½å¤šä»£ç†TikZè´¹æ›¼å›¾ç”Ÿæˆç³»ç»Ÿ** - åŸºäºGoogle Agent Development Kit (ADK) v1.0.0

![Version](https://img.shields.io/badge/version-0.2.0-brightgreen)
![License](https://img.shields.io/badge/license-MIT%2FApache--2.0-blue)
![ADK](https://img.shields.io/badge/ADK-1.0.0-green)
![Python](https://img.shields.io/badge/python-3.9%2B-blue)
![Status](https://img.shields.io/badge/status-Beta-yellow)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

FeynmanCraft ADK æ˜¯ä¸€ä¸ªåŸºäº Google Agent Development Kit æ„å»ºçš„**è‡ªä¸»å­¦ä¹ æ™ºèƒ½ç ”ç©¶åŠ©æ‰‹**ï¼Œèƒ½å¤Ÿä»è‡ªç„¶è¯­è¨€æè¿°è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡çš„ TikZ è´¹æ›¼å›¾ä»£ç ã€‚è¯¥é¡¹ç›®é‡‡ç”¨åˆ›æ–°çš„**ä¸‰å±‚çŸ¥è¯†è·å–æ¶æ„**ï¼Œå…·å¤‡åŠ¨æ€ç½‘ç»œæœç´¢å’ŒæŒç»­å­¦ä¹ èƒ½åŠ›ã€‚

### ğŸš€ æ ¸å¿ƒåˆ›æ–°

- ğŸ§  **ä¸‰å±‚çŸ¥è¯†æ¶æ„**: é™æ€çŸ¥è¯†åº“ + åŠ¨æ€ç½‘ç»œæœç´¢ + æ™ºèƒ½ç”Ÿæˆ
- ğŸ” **è‡ªä¸»å­¦ä¹ èƒ½åŠ›**: é‡åˆ°æœªçŸ¥é—®é¢˜æ—¶ä¸»åŠ¨æœç´¢å­¦ä¹ 
- ğŸ¤– **7ä»£ç†åä½œç³»ç»Ÿ**: ä¸“ä¸šåŒ–ä»£ç†åˆ†å·¥åä½œ
- ğŸ“Š **BigQueryçŸ¥è¯†åº“**: é«˜æ€§èƒ½å‘é‡æœç´¢å’Œè¯­ä¹‰æ£€ç´¢
- ğŸŒ **WebResearchAgent**: å®æ—¶ç½‘ç»œçŸ¥è¯†è¡¥å……
- ğŸ”¬ **ç‰©ç†æ™ºèƒ½éªŒè¯**: å¤šå±‚ç‰©ç†æ­£ç¡®æ€§æ£€æŸ¥
- âš¡ **æ™ºèƒ½è·¯ç”±å†³ç­–**: åŸºäºæŸ¥è¯¢è´¨é‡çš„è‡ªåŠ¨è·¯å¾„é€‰æ‹©

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ä¸‰å±‚çŸ¥è¯†è·å–æ¶æ„

```
Layer 1: é™æ€çŸ¥è¯†åº“ (BigQuery) â† tikz-hunter ç¦»çº¿æ„å»º
    â†“ (çŸ¥è¯†åº“ä¸è¶³æ—¶)
Layer 2: åŠ¨æ€ç½‘ç»œæœç´¢ (WebResearchAgent) â† å®æ—¶è¡¥å……
    â†“ (å®Œå…¨æœªçŸ¥æ—¶)
Layer 3: æ™ºèƒ½ç”Ÿæˆ (DiagramGeneratorAgent) â† åˆ›æ–°åˆæˆ
```

### æ™ºèƒ½å·¥ä½œæµ

```
ç”¨æˆ·è¯·æ±‚ â†’ PlannerAgent â†’ OrchestratorAgent
    â†“
å†³ç­–åˆ†æ”¯:
â”œâ”€ çŸ¥è¯†åº“å……è¶³ â†’ KBRetrieverAgent â†’ DiagramGeneratorAgent
â”œâ”€ çŸ¥è¯†åº“ä¸è¶³ â†’ WebResearchAgent â†’ éªŒè¯é“¾ â†’ DiagramGeneratorAgent  
â””â”€ å®Œå…¨æœªçŸ¥ â†’ åˆ›æ–°ç”Ÿæˆæ¨¡å¼ â†’ å¼ºåŒ–éªŒè¯

éªŒè¯é“¾: TikZValidator â†’ PhysicsValidator â†’ FeedbackAgent
```

## ğŸ¤– ä»£ç†ç³»ç»Ÿ

### æ ¸å¿ƒä»£ç† (7ä¸ª)

1. **OrchestratorAgent** - æ™ºèƒ½è·¯ç”±å™¨å’Œå†³ç­–ä¸­å¿ƒ
2. **PlannerAgent** - ç‰©ç†è¿‡ç¨‹è§£æå’Œä»»åŠ¡è§„åˆ’
3. **KBRetrieverAgent** - BigQueryçŸ¥è¯†åº“æ£€ç´¢ä¸“å®¶
4. **WebResearchAgent** - åŠ¨æ€ç½‘ç»œæœç´¢ä¸“å®¶ â­ æ–°å¢
5. **DiagramGeneratorAgent** - TikZ-Feynmanä»£ç ç”Ÿæˆä¸“å®¶
6. **TikZValidatorAgent** - LaTeXç¼–è¯‘éªŒè¯
7. **PhysicsValidatorAgent** - ç‰©ç†æ­£ç¡®æ€§éªŒè¯
8. **FeedbackAgent** - ç»“æœèšåˆå’Œç”¨æˆ·åé¦ˆ

### tikz-hunter é›†æˆ

- **å®šä½**: ç¦»çº¿çŸ¥è¯†åº“ç”Ÿäº§å·¥å‚
- **åŠŸèƒ½**: æ‰¹é‡é‡‡é›†ã€æ¸…æ´—ã€éªŒè¯TikZæ•°æ®
- **è¾“å‡º**: é«˜è´¨é‡ç»“æ„åŒ–æ•°æ® â†’ BigQuery
- **è¿è¡Œæ¨¡å¼**: å®šæœŸæ‰¹å¤„ç†ï¼Œä¸å‚ä¸å®æ—¶è¯·æ±‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.9+
- Google ADK 1.0.0+
- Conda (æ¨è)
- LaTeX (å¯é€‰ï¼Œç”¨äºæœ¬åœ°ç¼–è¯‘éªŒè¯)
- Google AI API Key
- Google Cloud Project (ç”¨äºBigQuery)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd feynmancraft-adk
   ```

2. **åˆ›å»ºCondaç¯å¢ƒ**
   ```bash
   conda create --name fey python=3.11 -y
   conda activate fey
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

4. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   # åˆ›å»º .env æ–‡ä»¶
   cat > .env << EOF
   GOOGLE_API_KEY="your_google_ai_api_key_here"
   GOOGLE_CLOUD_PROJECT="your-gcp-project-id"
   ADK_MODEL_NAME="gemini-2.0-flash"  # å¯é€‰ï¼Œé»˜è®¤å€¼
   EOF
   ```

5. **è¿è¡Œç³»ç»Ÿ**
   ```bash
   conda run -n fey adk run feynmancraft_adk
   ```

### ä½¿ç”¨ç¤ºä¾‹

åœ¨ ADK Dev UI ä¸­è¾“å…¥ï¼š

```
è¯·ç”Ÿæˆä¸€ä¸ªç”µå­-æ­£ç”µå­æ¹®ç­äº§ç”Ÿä¸¤ä¸ªå…‰å­çš„è´¹æ›¼å›¾
```

ç³»ç»Ÿå°†ï¼š
1. ğŸ” é¦–å…ˆæŸ¥è¯¢BigQueryçŸ¥è¯†åº“
2. ğŸŒ å¦‚éœ€è¦ï¼Œè¿›è¡Œç½‘ç»œæœç´¢è¡¥å……
3. ğŸ¨ ç”Ÿæˆé«˜è´¨é‡TikZä»£ç 
4. âœ… è¿›è¡Œç‰©ç†å’Œè¯­æ³•éªŒè¯
5. ğŸ“ æä¾›è¯¦ç»†åé¦ˆå’Œå»ºè®®

## ğŸ“Š é¡¹ç›®ç»“æ„

```
feynmancraft-adk/
â”œâ”€â”€ feynmancraft_adk/           # ä¸»åŒ… (ADKæ ‡å‡†ç»“æ„)
â”‚   â”œâ”€â”€ __init__.py            # æ¨¡å‹é…ç½®å’Œæ—¥å¿—è®¾ç½®
â”‚   â”œâ”€â”€ agent.py               # root_agentå®šä¹‰
â”‚   â”œâ”€â”€ schemas.py             # Pydanticæ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ sub_agents/            # ä»£ç†å®ç°
â”‚   â”‚   â”œâ”€â”€ orchestrator_agent.py
â”‚   â”‚   â”œâ”€â”€ planner_agent.py
â”‚   â”‚   â”œâ”€â”€ kb_retriever_agent.py
â”‚   â”‚   â”œâ”€â”€ web_research_agent.py  # ğŸ†• ç½‘ç»œæœç´¢ä»£ç†
â”‚   â”‚   â”œâ”€â”€ diagram_generator_agent.py
â”‚   â”‚   â”œâ”€â”€ tikz_validator_agent.py
â”‚   â”‚   â”œâ”€â”€ physics_validator_agent.py
â”‚   â”‚   â””â”€â”€ feedback_agent.py
â”‚   â”œâ”€â”€ shared_libraries/       # å…±äº«å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ prompt_utils.py
â”‚   â”‚   â”œâ”€â”€ tikz_compiler.py
â”‚   â”‚   â””â”€â”€ config.py
â”‚   â””â”€â”€ tools/                 # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ bigquery_kb_tool.py    # ğŸ†• BigQueryé›†æˆ
â”‚       â”œâ”€â”€ web_search_tool.py     # ğŸ†• ç½‘ç»œæœç´¢å·¥å…·
â”‚       â””â”€â”€ vector_search_tool.py  # ğŸ†• å‘é‡æœç´¢
â”œâ”€â”€ feyncore/                  # æ ¸å¿ƒåŠŸèƒ½åº“
â”‚   â”œâ”€â”€ physics/               # ç‰©ç†æ•°æ®å’ŒéªŒè¯
â”‚   â”œâ”€â”€ tikz_utils/           # TikZå·¥å…·å‡½æ•°
â”‚   â””â”€â”€ compilation/          # LaTeXç¼–è¯‘å™¨
â”œâ”€â”€ tikz-hunter/              # ç¦»çº¿æ•°æ®é‡‡é›†ç³»ç»Ÿ
â”œâ”€â”€ legacy/                   # å†å²ä»£ç 
â”œâ”€â”€ DEVELOPMENTplan.md        # è¯¦ç»†å¼€å‘è®¡åˆ’
â””â”€â”€ README.md                 # æœ¬æ–‡æ¡£
```

## ğŸ¯ æŠ€æœ¯æŒ‡æ ‡

### æ€§èƒ½ç›®æ ‡
- âœ… TikZä»£ç ç¼–è¯‘æˆåŠŸç‡ â‰¥ 85%
- âœ… ç‰©ç†éªŒè¯å‡†ç¡®ç‡ â‰¥ 90%
- âœ… çŸ¥è¯†åº“æŸ¥è¯¢å“åº”æ—¶é—´ â‰¤ 3ç§’
- âœ… ç«¯åˆ°ç«¯å¤„ç†æ—¶é—´ â‰¤ 45ç§’ (å«ç½‘ç»œæœç´¢)
- âœ… ç³»ç»Ÿå¯ç”¨æ€§ â‰¥ 95%

### æ™ºèƒ½åŒ–æŒ‡æ ‡
- âœ… çŸ¥è¯†åº“å‘½ä¸­ç‡ â‰¥ 80%
- âœ… ç½‘ç»œæœç´¢æˆåŠŸç‡ â‰¥ 70%
- âœ… ç”¨æˆ·æ»¡æ„åº¦ â‰¥ 90%
- âœ… çŸ¥è¯†åº“è‡ªåŠ¨æ‰©å……ç‡ â‰¥ 10æ¡/å¤©
- âœ… é‡å¤æŸ¥è¯¢ç½‘ç»œä¾èµ–ä¸‹é™ç‡ â‰¥ 50%

## ğŸ”¬ æ”¯æŒçš„ç‰©ç†è¿‡ç¨‹

### å½“å‰æ”¯æŒ (åŸºç¡€ç‰ˆæœ¬)
- âœ… ç”µå­-æ­£ç”µå­æ¹®ç­ â†’ åŒå…‰å­
- âœ… ç¼ªå­è¡°å˜ â†’ ç”µå­ + ä¸­å¾®å­
- âœ… è´¨å­-åè´¨å­æ•£å°„
- âœ… W/Zç»è‰²å­è¡°å˜
- âœ… åº·æ™®é¡¿æ•£å°„

### æ‰©å±•æ”¯æŒ (é€šè¿‡ç½‘ç»œæœç´¢)
- ğŸ” QCDè¿‡ç¨‹ (èƒ¶å­äº¤æ¢)
- ğŸ” å¸Œæ ¼æ–¯æœºåˆ¶ç›¸å…³è¿‡ç¨‹
- ğŸ” è¶…å¯¹ç§°ç²’å­è¿‡ç¨‹
- ğŸ” ä¸­å¾®å­æŒ¯è¡
- ğŸ” æš—ç‰©è´¨ç›¸äº’ä½œç”¨

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Google ADK 1.0.0** - å¤šä»£ç†ç¼–æ’æ¡†æ¶
- **Google Gemini** - è¯­è¨€æ¨¡å‹ (gemini-2.0-flash)
- **BigQuery** - çŸ¥è¯†åº“å­˜å‚¨å’Œå‘é‡æœç´¢
- **Pydantic** - æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–

### ä¸“ä¸šå·¥å…·
- **TikZ-Feynman** - è´¹æ›¼å›¾ç»˜åˆ¶
- **LaTeX** - æ–‡æ¡£ç¼–è¯‘
- **PDG Package** - ç²’å­æ•°æ®
- **Google Search API** - ç½‘ç»œæœç´¢
- **Vertex AI** - å‘é‡åµŒå…¥

### å¼€å‘å·¥å…·
- **Conda** - ç¯å¢ƒç®¡ç†
- **pytest** - æµ‹è¯•æ¡†æ¶
- **GitHub Actions** - CI/CD
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²

## ğŸ“ˆ å¼€å‘è¿›åº¦

### âœ… å·²å®Œæˆ (75%)
- **Core Architecture**: ADKæ¡†æ¶å®Œå…¨å°±ä½
- **Data Models**: å®Œæ•´çš„Pydanticæ•°æ®æ¨¡å‹
- **Agent Framework**: 6ä¸ªä¸“ä¸šä»£ç†å·²é…ç½®
- **Basic Utilities**: TikZç¼–è¯‘ã€é…ç½®ç³»ç»Ÿç­‰

### ğŸŸ¡ è¿›è¡Œä¸­ (20%)
- **BigQuery Integration**: çŸ¥è¯†åº“è¿ç§»
- **WebResearchAgent**: ç½‘ç»œæœç´¢èƒ½åŠ›
- **Agent Prompts**: ä¸“ä¸šåŒ–æç¤ºè¯ä¼˜åŒ–

### âŒ å¾…å¼€å§‹ (5%)
- **Learning Mechanisms**: è‡ªä¸»å­¦ä¹ èƒ½åŠ›
- **Advanced Validation**: é«˜çº§ç‰©ç†éªŒè¯
- **Performance Optimization**: æ€§èƒ½ä¼˜åŒ–

## ğŸ¯ é¡¹ç›®é‡Œç¨‹ç¢‘

### ç¬¬1-2å¤©: çŸ¥è¯†åº“åŸºç¡€è®¾æ–½ ğŸ—„ï¸
- BigQueryè¡¨ç»“æ„è®¾è®¡å’Œæ•°æ®è¿ç§»
- tikz-hunteræ•°æ®é›†æˆ
- åŸºç¡€æŸ¥è¯¢å·¥å…·å¼€å‘

### ç¬¬3-4å¤©: æ™ºèƒ½å†³ç­–å±‚ ğŸ§ 
- OrchestratorAgentå‡çº§ä¸ºæ™ºèƒ½è·¯ç”±å™¨
- å¤šè·¯å¾„å†³ç­–é€»è¾‘å®ç°
- DiagramGeneratorAgentæç¤ºè¯ä¼˜åŒ–

### ç¬¬5-6å¤©: åŠ¨æ€ç½‘ç»œç ”ç©¶ ğŸ”
- WebResearchAgentå¼€å‘
- Google Search APIé›†æˆ
- æœç´¢ç»“æœè´¨é‡è¿‡æ»¤

### ç¬¬7-8å¤©: ç³»ç»Ÿé›†æˆ ğŸ”„
- ç‰©ç†éªŒè¯ç³»ç»Ÿå¼ºåŒ–
- å®Œæ•´å·¥ä½œæµé›†æˆ
- æ™ºèƒ½è·¯ç”±æµ‹è¯•

### ç¬¬9-10å¤©: ä¼˜åŒ–éƒ¨ç½² ğŸš€
- æ™ºèƒ½ç¼“å­˜å’Œå­¦ä¹ æœºåˆ¶
- å…¨é¢æµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–
- æ–‡æ¡£å®Œå–„å’Œäº¤ä»˜å‡†å¤‡

## ğŸ“¦ æœ€æ–°ç‰ˆæœ¬

### v0.2.0 (2025-01-17)
- ğŸ¯ **åŒæ¨¡å¼çŸ¥è¯†åº“ç³»ç»Ÿ**ï¼šBigQueryï¼ˆç”Ÿäº§ï¼‰+ æœ¬åœ°ï¼ˆå¼€å‘ï¼‰
- ğŸ” **å‘é‡æœç´¢**ï¼šåŸºäº Annoy çš„é«˜æ€§èƒ½ç›¸ä¼¼åº¦æœç´¢
- ğŸ”„ **æ™ºèƒ½åˆ‡æ¢**ï¼šè‡ªåŠ¨æ•…éšœè½¬ç§»å’Œæ··åˆæœç´¢ç­–ç•¥
- ğŸ“Š **å¤šç§æœç´¢æ–¹å¼**ï¼šè¯­ä¹‰æœç´¢ã€å…³é”®è¯æœç´¢ã€ç²’å­æœç´¢
- âš™ï¸ **çµæ´»é…ç½®**ï¼šé€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶ç³»ç»Ÿè¡Œä¸º

è¯¦è§ [CHANGELOG.md](CHANGELOG.md)

## ğŸ† åˆ›æ–°äº®ç‚¹

### è‡ªé€‚åº”æ™ºèƒ½ç³»ç»Ÿ
1. **çŸ¥è¯†è¾¹ç•Œæ„ŸçŸ¥**: ç³»ç»Ÿèƒ½è¯†åˆ«è‡ªå·±çš„çŸ¥è¯†ç›²åŒº
2. **ä¸»åŠ¨å­¦ä¹ èƒ½åŠ›**: é‡åˆ°æœªçŸ¥é—®é¢˜æ—¶ä¸»åŠ¨æœç´¢å­¦ä¹ 
3. **è´¨é‡è‡ªæˆ‘ç›‘æ§**: æŒç»­è¯„ä¼°å’Œæ”¹è¿›è¾“å‡ºè´¨é‡
4. **ç”¨æˆ·åé¦ˆé©±åŠ¨**: åŸºäºç”¨æˆ·åé¦ˆä¼˜åŒ–å†³ç­–é€»è¾‘

### ä¸‰å±‚å®¹é”™æœºåˆ¶
1. **Layer 1**: é™æ€çŸ¥è¯†åº“ (æœ€å¿«ï¼Œæœ€å¯é )
2. **Layer 2**: åŠ¨æ€ç½‘ç»œæœç´¢ (ä¸­ç­‰é€Ÿåº¦ï¼Œé«˜è¦†ç›–)
3. **Layer 3**: åˆ›æ–°ç”Ÿæˆ (æœ€æ…¢ï¼Œä½†èƒ½å¤„ç†å…¨æ–°é—®é¢˜)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd feynmancraft-adk

# è®¾ç½®å¼€å‘ç¯å¢ƒ
conda create --name fey-dev python=3.9 -y
conda activate fey-dev
pip install -r requirements-dev.txt

# è¿è¡Œæµ‹è¯•
pytest tests/

# ä»£ç æ ¼å¼åŒ–
black feynmancraft_adk/
isort feynmancraft_adk/
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨åŒè®¸å¯è¯ï¼š
- [MIT License](LICENSE-MIT)
- [Apache License 2.0](LICENSE-APACHE)

æ‚¨å¯ä»¥é€‰æ‹©å…¶ä¸­ä»»ä¸€è®¸å¯è¯ä½¿ç”¨æœ¬é¡¹ç›®ã€‚

## ğŸ™ è‡´è°¢

- **Google ADK Team** - æä¾›å¼ºå¤§çš„å¤šä»£ç†å¼€å‘æ¡†æ¶
- **TikZ-Feynman Community** - ä¼˜ç§€çš„è´¹æ›¼å›¾ç»˜åˆ¶å·¥å…·
- **Particle Data Group** - æƒå¨çš„ç²’å­ç‰©ç†æ•°æ®
- **å¼€æºç¤¾åŒº** - æ— æ•°ä¼˜ç§€çš„å¼€æºå·¥å…·å’Œåº“

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: [GitHub Repository](https://github.com/your-username/feynmancraft-adk)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-username/feynmancraft-adk/issues)
- **è®¨è®ºäº¤æµ**: [GitHub Discussions](https://github.com/your-username/feynmancraft-adk/discussions)

---

**FeynmanCraft ADK - è®©ç‰©ç†å›¾è¡¨ç”Ÿæˆå˜å¾—æ™ºèƒ½è€Œç®€å•** ğŸš€ 